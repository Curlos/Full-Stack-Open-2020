{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Person","props","newName","handleNameChange","newNumber","handleNumberChange","PersonForm","onSubmit","addPerson","type","Persons","peopleToShow","deletePerson","map","person","key","name","number","onClick","window","confirm","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPeople","console","log","filter","p","toLowerCase","includes","event","target","preventDefault","length","names","newID","indexOf","catch","error","setTimeout","returnedPerson","concat","newArr","ReactDOM","render","document","getElementById"],"mappings":"+OAUeA,EARA,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBACzB,OACI,mDACuB,2BAAOC,MAAOF,EAAWG,SAAUF,MCUnDG,EAbA,SAACC,GACZ,OACI,6BACI,sCACU,2BAAOH,MAAOG,EAAMC,QAASH,SAAUE,EAAME,oBAEvD,wCACY,2BAAOL,MAAOG,EAAMG,UAAWL,SAAUE,EAAMI,wBCKxDC,EAXI,SAACL,GAChB,OACI,0BAAMM,SAAUN,EAAMO,WAClB,kBAAC,EAAD,CAAQN,QAASD,EAAMC,QAASC,iBAAkBF,EAAME,iBAAkBC,UAAWH,EAAMG,UAAWC,mBAAoBJ,EAAMI,qBAChI,6BACI,4BAAQI,KAAK,UAAb,UCMDC,EAZC,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAC7B,OACI,6BACKD,EAAaE,KAAI,SAAAC,GAAM,OACpB,yBAAKC,IAAKD,EAAOE,MACZF,EAAOE,KADZ,IACmBF,EAAOG,OAD1B,IACkC,4BAAQC,QAAS,kBAAMC,OAAOC,QAAP,iBAAyBN,EAAOE,KAAhC,MAA2CJ,EAAaE,EAAOO,IAAM,KAA5F,gBCL5CC,EAAU,eAsBD,EApBG,WAEd,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVM,SAACN,GAElB,OADgBE,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BD,IAC5BI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALM,SAACb,EAAQO,GAE1B,OADgBE,IAAMQ,IAAN,UAAaT,EAAb,YAAwBD,GAAMP,GAC/BW,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCP9BK,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACO,KAIP,yBAAKC,UAAU,WACVD,ICKEE,EAZW,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACzB,OAAgB,OAAZA,EACO,KAIP,yBAAKC,UAAU,SACVD,ICwHEG,EAxHH,WAAO,IAAD,EACaC,mBAAS,CAAC,CAAErB,KAAM,iBAD/B,mBACVsB,EADU,KACDC,EADC,OAEaF,mBAAS,IAFtB,mBAEVnC,EAFU,KAEDsC,EAFC,OAGiBH,mBAAS,IAH1B,mBAGVjC,EAHU,KAGCqC,EAHD,OAIiBJ,mBAAS,IAJ1B,mBAIVzC,EAJU,KAIC8C,EAJD,OAK2BL,mBAAS,MALpC,mBAKVM,EALU,KAKMC,EALN,OAMuBP,mBAAS,MANhC,mBAMVQ,EANU,KAMIC,EANJ,KAQjBC,qBAAU,WACTC,IAA0BvB,MAAK,SAACwB,GAC/BV,EAAWU,QAEV,IA4DHC,QAAQC,IAAIb,GAEZ,IAeM3B,EACS,KAAdf,EACG0C,EACAA,EAAQc,QAAO,SAACC,GAAD,OACfA,EAAErC,KAAKsC,cAAcC,SAAS3D,EAAU0D,kBAG5C,OACC,6BACC,yCACA,kBAAC,EAAD,CAAcrB,QAASU,IACvB,kBAAC,EAAD,CAAmBV,QAASY,IAC5B,kBAAC,EAAD,CAAQjD,UAAWA,EAAWC,mBAjBL,SAAC2D,GAC3B,IAAMJ,EAASI,EAAMC,OAAO3D,MAC5B4C,EAAaU,MAiBZ,yCAEA,kBAAC,EAAD,CACC5C,UArFe,SAACgD,GAClBA,EAAME,iBAEN,IAAM5C,EAAS,CACdE,KAAMd,EACNe,OAAQb,EACRiB,GAAIiB,EAAQqB,OAAS,GAGhBC,EAAQtB,EAAQzB,KAAI,SAACwC,GAAD,OAAOA,EAAErC,QAEnC,GAAI4C,EAAML,SAASzC,EAAOE,MAAO,CAChC,IAAM6C,EAAQD,EAAME,QAAQhD,EAAOE,MAAQ,EAE1CG,OAAOC,QAAP,UACIN,EAAOE,KADX,iFAIAuB,EAAWD,EAAQzB,KAAI,SAACwC,GAAD,OAAQA,EAAErC,OAASF,EAAOE,KAAOF,EAASuC,MACjEL,EAA2BlC,EAAQ+C,GAAOE,OAAM,SAACC,GAChDlB,EAAgBkB,EAAMtC,SAASC,KAAKqC,OACpCC,YAAW,WACVnB,EAAgB,QACd,cAKLE,EACSlC,GACPW,MAAK,SAACyC,GACN3B,EAAWD,EAAQ6B,OAAOD,IAC1B1B,EAAW,IACXC,EAAa,OAEbhB,MAAK,WACLmB,EAAkB,SAAD,OAAU9B,EAAOE,OAClCiD,YAAW,WACVrB,EAAkB,QAChB,QAEHmB,OAAM,SAACC,GACQlB,EAAgBkB,EAAMtC,SAASC,KAAKqC,OACpCC,YAAW,WACzBnB,EAAgB,QACd,KACHI,QAAQC,IAAIa,EAAMtC,SAASC,KAAKqC,WAwCjC9D,QAASA,EACTC,iBAlCsB,SAACqD,GACzB,IAAMxC,EAAOwC,EAAMC,OAAO3D,MAC1B0C,EAAWxB,IAiCTZ,UAAWA,EACXC,mBA/BwB,SAACmD,GAC3B,IAAMvC,EAASuC,EAAMC,OAAO3D,MAC5B2C,EAAaxB,MAgCZ,uCAEA,kBAAC,EAAD,CAASN,aAAcA,EAAcC,aArGlB,SAACS,GACrB2B,EAA2B3B,GAAII,MAAK,WACnC,IAAI2C,EAAS9B,EAAQc,QAAO,SAACtC,GAAD,OAAYA,EAAOO,KAAOA,KACtDkB,EAAW6B,W,MCrBdC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.1b59159d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newFilter, handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with: <input value={newFilter} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter\n\n","import React from 'react'\n\nconst Person = (props) => {\n    return (\n        <div>\n            <div>\n                name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n        </div>\n    )\n}\n\nexport default Person\n\n","import React from 'react'\nimport Person from './Person'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <Person newName={props.newName} handleNameChange={props.handleNameChange} newNumber={props.newNumber} handleNumberChange={props.handleNumberChange} />\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n\n","import React from 'react'\n\nconst Persons = ({ peopleToShow, deletePerson }) => {\n    return (\n        <div>\n            {peopleToShow.map(person =>\n                <div key={person.name}>\n                    {person.name} {person.number} <button onClick={() => window.confirm(`Delete ${person.name}?`) ? deletePerson(person.id) : ''}>delete</button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default Persons\n\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getPeople = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = (person, id) => {\n    const request = axios.put(`${baseUrl}/${id}`, person)\n    return request.then(response => response.data)\n}\n\nexport default { getPeople, create, deletePerson, updateNumber }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([{ name: \"Arto Hellas\" }]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [newFilter, setNewFilter] = useState(\"\");\n\tconst [successMessage, setSuccessMessage] = useState(null);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tpersonService.getPeople().then((initialPeople) => {\n\t\t\tsetPersons(initialPeople);\n\t\t});\n\t}, []);\n\n\tconst deletePerson = (id) => {\n\t\tpersonService.deletePerson(id).then(() => {\n\t\t\tlet newArr = persons.filter((person) => person.id !== id);\n\t\t\tsetPersons(newArr);\n\t\t});\n\t};\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst person = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t\tid: persons.length + 1,\n\t\t};\n\n\t\tconst names = persons.map((p) => p.name);\n\n\t\tif (names.includes(person.name)) {\n\t\t\tconst newID = names.indexOf(person.name) + 1;\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${person.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tsetPersons(persons.map((p) => (p.name === person.name ? person : p)));\n\t\t\t\tpersonService.updateNumber(person, newID).catch((error) => {\n\t\t\t\t\tsetErrorMessage(error.response.data.error);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\t// Save the numbers that are added to the backend server\n\t\t\tpersonService\n\t\t\t\t.create(person)\n\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewNumber(\"\");\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetSuccessMessage(`Added ${person.name}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSuccessMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n                    setErrorMessage(error.response.data.error);\n                    setTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tconsole.log(error.response.data.error);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconsole.log(persons);\n\n\tconst handleNameChange = (event) => {\n\t\tconst name = event.target.value;\n\t\tsetNewName(name);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tconst number = event.target.value;\n\t\tsetNewNumber(number);\n\t};\n\n\tconst handleFilterChange = (event) => {\n\t\tconst filter = event.target.value;\n\t\tsetNewFilter(filter);\n\t};\n\n\tconst peopleToShow =\n\t\tnewFilter === \"\"\n\t\t\t? persons\n\t\t\t: persons.filter((p) =>\n\t\t\t\t\tp.name.toLowerCase().includes(newFilter.toLowerCase())\n\t\t\t  );\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={successMessage} />\n\t\t\t<ErrorNotification message={errorMessage} />\n\t\t\t<Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\n\t\t\t<h2>add a new</h2>\n\n\t\t\t<PersonForm\n\t\t\t\taddPerson={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\n\t\t\t<Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}