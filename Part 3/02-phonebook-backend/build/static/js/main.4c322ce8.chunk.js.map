{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Person","props","newName","handleNameChange","newNumber","handleNumberChange","PersonForm","onSubmit","addPerson","type","Persons","peopleToShow","deletePerson","map","person","key","name","number","onClick","window","confirm","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPeople","console","log","filter","p","toLowerCase","includes","event","target","preventDefault","length","names","newID","indexOf","catch","error","setTimeout","returnedPerson","concat","newArr","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4c322ce8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newFilter, handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with: <input value={newFilter} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter\n\n","import React from 'react'\n\nconst Person = (props) => {\n    return (\n        <div>\n            <div>\n                name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n        </div>\n    )\n}\n\nexport default Person\n\n","import React from 'react'\nimport Person from './Person'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <Person newName={props.newName} handleNameChange={props.handleNameChange} newNumber={props.newNumber} handleNumberChange={props.handleNumberChange} />\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n\n","import React from 'react'\n\nconst Persons = ({ peopleToShow, deletePerson }) => {\n    return (\n        <div>\n            {peopleToShow.map(person =>\n                <div key={person.name}>\n                    {person.name} {person.number} <button onClick={() => window.confirm(`Delete ${person.name}?`) ? deletePerson(person.id) : ''}>delete</button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default Persons\n\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getPeople = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = (person, id) => {\n    const request = axios.put(`${baseUrl}/${id}`, person)\n    return request.then(response => response.data)\n}\n\nexport default { getPeople, create, deletePerson, updateNumber }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n    const [persons, setPersons] = useState([\n        { name: 'Arto Hellas' }\n    ])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [successMessage, setSuccessMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        personService\n            .getPeople()\n            .then(initialPeople => {\n                setPersons(initialPeople)\n            })\n    }, [])\n\n    const deletePerson = (id) => {\n        personService\n            .deletePerson(id)\n            .then(() => {\n                let newArr = persons.filter(person => person.id !== id)\n                setPersons(newArr)\n            })\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n\n        const person = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1,\n        }\n\n        const names = persons.map(p => p.name)\n\n        if (names.includes(person.name)) {\n            const newID = names.indexOf(person.name) + 1\n            if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\n                setPersons(persons.map(p => p.name === person.name ? person : p))\n                personService\n                    .updateNumber(person, newID)\n                    .catch(error => {\n                        setErrorMessage(`Information of ${person.name} has already been removed from the server`)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n            }\n        } else {\n            // Save the numbers that are added to the backend server\n            personService\n                .create(person)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .then(() => {\n                    setSuccessMessage(\n                        `Added ${person.name}`\n                    )\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n        }\n    }\n\n    console.log(persons)\n\n    const handleNameChange = (event) => {\n        const name = event.target.value\n        setNewName(name)\n    }\n\n    const handleNumberChange = (event) => {\n        const number = event.target.value\n        setNewNumber(number)\n    }\n\n    const handleFilterChange = (event) => {\n        const filter = event.target.value\n        setNewFilter(filter)\n    }\n\n    const peopleToShow = newFilter === '' ? persons : persons.filter(p => p.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={successMessage} />\n            <ErrorNotification message={errorMessage} />\n            <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\n            <h2>add a new</h2>\n\n            <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n\n            <h2>Numbers</h2>\n\n            <Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\n\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}